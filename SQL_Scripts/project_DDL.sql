DROP TABLE ANIMATION CASCADE CONSTRAINTS;

CREATE TABLE ANIMATION (
    SERIAL INTEGER NOT NULL,
    NAME VARCHAR(70) NOT NULL,
    PROD_COMP VARCHAR(30),
    GENRE VARCHAR(20),
    AIRDATE DATE,
    VIEWS INTEGER NOT NULL,
    CONSTRAINT ANIMATION_PK PRIMARY KEY (SERIAL)
);

COMMENT ON TABLE ANIMATION IS '애니메이션';
COMMENT ON COLUMN ANIMATION.SERIAL IS '애니메이션 일련번호';
COMMENT ON COLUMN ANIMATION.NAME IS '애니메이션 제목';
COMMENT ON COLUMN ANIMATION.PROD_COMP IS '제작사';
COMMENT ON COLUMN ANIMATION.GENRE IS '장르';
COMMENT ON COLUMN ANIMATION.AIRDATE IS '방영일';
COMMENT ON COLUMN ANIMATION.VIEWS IS '조회수';

INSERT INTO ANIMATION VALUES(1, '귀멸의 칼날', 'Ufortable', '액션', TO_DATE('2019-4-6','YYYY-MM-DD'), 327);
INSERT INTO ANIMATION VALUES(2, '아픈 건 싫으니까 방어력에 올인하려고 합니다', '실버 링크', '게임', TO_DATE('2020-1-8','YYYY-MM-DD'), 130);
INSERT INTO ANIMATION VALUES(3, '원피스', '토에이 애니메이션', '능력', TO_DATE('1999-10-20', 'YYYY-MM-DD'), 1068);
INSERT INTO ANIMATION VALUES(4, '명탐정 코난', 'Tokyo Movie', '범죄', TO_DATE('1996-1-8', 'YYYY-MM-DD'), 1336);
INSERT INTO ANIMATION VALUES(5, '프린세스 커넥트! ReDive', 'CygamesPictures', '코미디', TO_DATE('2020-4-7', 'YYYY-MM-DD'), 294);
INSERT INTO ANIMATION VALUES(6, '페이트 스테이 나이트 UBW', 'Ufortable', '액션', TO_DATE('2014-10-5', 'YYYY-MM-DD'), 655);
INSERT INTO ANIMATION VALUES(7, '이세계는 스마트폰과 함께', '프로덕션 리드', '코미디', TO_DATE('2017-7-11', 'YYYY-MM-DD'), 171);
INSERT INTO ANIMATION VALUES(8, '극장판 이 멋진 세계에 축복을! - 붉은 전설', 'J.C.Staff', '코미디', TO_DATE('2019-8-30', 'YYYY-MM-DD'), 438);
INSERT INTO ANIMATION VALUES(9, '은혼 극장판 - 해결사여 영원하라', NULL, NULL, NULL, 179);
INSERT INTO ANIMATION VALUES(10, '은혼', NULL, '액션', TO_DATE('2006-4-4', 'YYYY-MM-DD'), 984);
INSERT INTO ANIMATION VALUES(11, '블리치', NULL, '액션', TO_DATE('2004-10-5', 'YYYY-MM-DD'), 1024);
INSERT INTO ANIMATION VALUES(12, '명탐정 코난 극장판 19기 - 화염의 해바라기', NULL, '범죄', TO_DATE('2015-4-18', 'YYYY-MM-DD'), 235);
INSERT INTO ANIMATION VALUES(13, '일곱개의 대죄', 'A-1 Pictures', '능력', TO_DATE('2014-10-5', 'YYYY-MM-DD'), 420);
INSERT INTO ANIMATION VALUES(14, '소드 아트 온라인', 'A-1 Pictures', '게임', TO_DATE('2012-7-8', 'YYYY-MM-DD'), 534);
INSERT INTO ANIMATION VALUES(15, '원펀맨', '매드하우스', '능력', TO_DATE('2015-10-5', 'YYYY-MM-DD'), 519);

DROP TABLE VIDEO CASCADE CONSTRAINTS;

CREATE TABLE VIDEO (
    ID VARCHAR(32) NOT NULL,
    ANIME_SERIAL INTEGER NOT NULL,
    EPISODE INTEGER,
    URL VARCHAR(150) NOT NULL,
    CONSTRAINT VIDEO_PK PRIMARY KEY (ID),
    CONSTRAINT VIDEO_FK FOREIGN KEY (ANIME_SERIAL) REFERENCES ANIMATION(SERIAL)
);

COMMENT ON TABLE VIDEO IS '비디오';
COMMENT ON COLUMN VIDEO.ID IS '비디오 ID 번호';
COMMENT ON COLUMN VIDEO.ANIME_SERIAL IS '애니메이션 일련번호';
COMMENT ON COLUMN VIDEO.EPISODE IS '애니메이션 에피소드';
COMMENT ON COLUMN VIDEO.URL IS '비디오 URL';

INSERT INTO VIDEO VALUES(SYS_GUID(), 1, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_38246.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 1, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_38305.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 1, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_38352.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 2, 1, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40142.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 2, 2, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40204.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 2, 3, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40263.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 3, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F12001%7E16000%2Fid_12450.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 3, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F12001%7E16000%2Fid_12402.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 3, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F12001%7E16000%2Fid_12424.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 4, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6920.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 4, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6919.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 4, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6914.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 5, 1, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40834.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 5, 2, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40883.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 5, 3, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40920.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 6, 1, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31177.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 6, 2, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31178.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 6, 3, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31179.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 7, 1, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31221.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 7, 2, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31282.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 7, 3, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F28001%7E32000%2Fid_31443.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 8, NULL, 'https://new0.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2Fnew%2Fid_40787.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 9, NULL, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F32001%7E36000%2Fid_34176.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 10, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6749.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 10, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6751.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 10, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F4001%7E8000%2Fid_6752.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 11, 1, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_3304.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 11, 2, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_3317.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 11, 3, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_3318.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 12, NULL, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F2%2F24001%7E28000%2Fid_25788.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 13, 1, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_2522.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 13, 2, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_2523.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 13, 3, 'https://new2.filegroupa.com/redirect.php?path=%2Ffiles%2F0%2F1%7E4000%2Fid_2524.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 14, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F2%2F16001%7E20000%2Fid_18303.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 14, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F2%2F16001%7E20000%2Fid_18298.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 14, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F2%2F16001%7E20000%2Fid_18271.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 15, 1, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F8001%7E12000%2Fid_9202.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 15, 2, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F8001%7E12000%2Fid_9198.mp4');
INSERT INTO VIDEO VALUES(SYS_GUID(), 15, 3, 'https://new1.filegroupa.com/redirect.php?path=%2Ffiles%2F1%2F8001%7E12000%2Fid_9196.mp4');

DROP TABLE COMPLETED_ANIME;

CREATE TABLE COMPLETED_ANIME (
    SERIAL INTEGER NOT NULL,
    LAST_AIRDATE DATE,
    CONSTRAINT COMPLETED_ANIME_PK PRIMARY KEY (SERIAL),
    CONSTRAINT COMPLETED_ANIME_FK FOREIGN KEY (SERIAL) REFERENCES ANIMATION(SERIAL)
);

COMMENT ON TABLE COMPLETED_ANIME IS '완결 애니메이션';
COMMENT ON COLUMN COMPLETED_ANIME.SERIAL IS '애니메이션 일련번호';
COMMENT ON COLUMN COMPLETED_ANIME.LAST_AIRDATE IS '종영일';

INSERT INTO COMPLETED_ANIME VALUES(1, NULL);
INSERT INTO COMPLETED_ANIME VALUES(2, NULL);
INSERT INTO COMPLETED_ANIME VALUES(6, NULL);
INSERT INTO COMPLETED_ANIME VALUES(7, NULL);
INSERT INTO COMPLETED_ANIME VALUES(8, TO_DATE('2019-8-30', 'YYYY-MM-DD'));
INSERT INTO COMPLETED_ANIME VALUES(9, NULL);
INSERT INTO COMPLETED_ANIME VALUES(10, NULL);
INSERT INTO COMPLETED_ANIME VALUES(11, NULL);
INSERT INTO COMPLETED_ANIME VALUES(12, TO_DATE('2015-4-18', 'YYYY-MM-DD'));
INSERT INTO COMPLETED_ANIME VALUES(13, NULL);
INSERT INTO COMPLETED_ANIME VALUES(14, NULL);
INSERT INTO COMPLETED_ANIME VALUES(15, NULL);

DROP TABLE USER_INFO CASCADE CONSTRAINTS;

CREATE TABLE USER_INFO (
    ID VARCHAR(20) NOT NULL,
    PW VARCHAR(30) NOT NULL,
    EMAIL VARCHAR(30),
    CONSTRAINT USER_INFO_PK PRIMARY KEY (ID)
);

COMMENT ON TABLE USER_INFO IS '사용자 정보';
COMMENT ON COLUMN USER_INFO.ID IS '사용자 ID';
COMMENT ON COLUMN USER_INFO.PW IS '사용자 비밀번호';
COMMENT ON COLUMN USER_INFO.EMAIL IS '사용자 이메일 주소';

INSERT INTO USER_INFO VALUES('mommy', 'and daddy', NULL);
INSERT INTO USER_INFO VALUES('daddy', 'and mommy', NULL);
INSERT INTO USER_INFO VALUES('mama1', 'just killed the man', NULL);
INSERT INTO USER_INFO VALUES('mama2', 'life has just begun', NULL);
INSERT INTO USER_INFO VALUES('admin', 'yeeDinasaur', '13circle97@gmail.com');

DROP TABLE ANIME_RATE CASCADE CONSTRAINTS;

CREATE TABLE ANIME_RATE (
    SERIAL INTEGER NOT NULL,
    USER_ID VARCHAR(20) NOT NULL,
    RATE NUMBER(2,1) NOT NULL,
    CONSTRAINT ANIME_RATE_PK PRIMARY KEY (SERIAL, USER_ID),
    CONSTRAINT ANIME_RATE_FK_1 FOREIGN KEY (SERIAL) REFERENCES ANIMATION(SERIAL),
    CONSTRAINT ANIME_RATE_FK_2 FOREIGN KEY (USER_ID) REFERENCES USER_INFO(ID)
);

COMMENT ON TABLE ANIME_RATE IS '애니메이션 평점';
COMMENT ON COLUMN ANIME_RATE.SERIAL IS '애니메이션 일련번호';
COMMENT ON COLUMN ANIME_RATE.USER_ID IS '사용자 ID';
COMMENT ON COLUMN ANIME_RATE.RATE IS '사용자 평점';

INSERT INTO ANIME_RATE VALUES(1, 'mama1', 3.0);
INSERT INTO ANIME_RATE VALUES(1, 'mommy', 3.5);
INSERT INTO ANIME_RATE VALUES(1, 'admin', 1.5);
INSERT INTO ANIME_RATE VALUES(2, 'admin', 1.0);
INSERT INTO ANIME_RATE VALUES(2, 'daddy', 3.5);
INSERT INTO ANIME_RATE VALUES(2, 'mommy', 4.5);
INSERT INTO ANIME_RATE VALUES(3, 'mommy', 1.0);
INSERT INTO ANIME_RATE VALUES(3, 'mama1', 1.5);
INSERT INTO ANIME_RATE VALUES(3, 'daddy', 2.5);
INSERT INTO ANIME_RATE VALUES(4, 'mommy', 2.5);
INSERT INTO ANIME_RATE VALUES(4, 'admin', 2.5);
INSERT INTO ANIME_RATE VALUES(4, 'daddy', 5.0);
INSERT INTO ANIME_RATE VALUES(5, 'mama2', 2.5);
INSERT INTO ANIME_RATE VALUES(5, 'admin', 3.0);
INSERT INTO ANIME_RATE VALUES(5, 'mommy', 4.5);
INSERT INTO ANIME_RATE VALUES(6, 'mama2', 2.5);
INSERT INTO ANIME_RATE VALUES(6, 'admin', 2.5);
INSERT INTO ANIME_RATE VALUES(6, 'mommy', 2.5);
INSERT INTO ANIME_RATE VALUES(7, 'mama2', 2.5);
INSERT INTO ANIME_RATE VALUES(7, 'admin', 2.5);
INSERT INTO ANIME_RATE VALUES(7, 'mommy', 2.5);
INSERT INTO ANIME_RATE VALUES(8, 'daddy', 5.0);
INSERT INTO ANIME_RATE VALUES(8, 'admin', 2.5);
INSERT INTO ANIME_RATE VALUES(8, 'mommy', 5.0);
INSERT INTO ANIME_RATE VALUES(9, 'mama1', 2.5);
INSERT INTO ANIME_RATE VALUES(9, 'daddy', 2.5);
INSERT INTO ANIME_RATE VALUES(9, 'mama2', 2.0);
INSERT INTO ANIME_RATE VALUES(10, 'admin', 5.0);
INSERT INTO ANIME_RATE VALUES(10, 'mama2', 2.0);
INSERT INTO ANIME_RATE VALUES(10, 'mama1', 3.0);
INSERT INTO ANIME_RATE VALUES(11, 'mama2', 1.5);
INSERT INTO ANIME_RATE VALUES(11, 'mommy', 4.5);
INSERT INTO ANIME_RATE VALUES(11, 'daddy', 5.0);
INSERT INTO ANIME_RATE VALUES(12, 'mama1', 4.5);
INSERT INTO ANIME_RATE VALUES(12, 'admin', 1.5);
INSERT INTO ANIME_RATE VALUES(12, 'mommy', 4.0);
INSERT INTO ANIME_RATE VALUES(13, 'admin', 1.0);
INSERT INTO ANIME_RATE VALUES(13, 'daddy', 3.0);
INSERT INTO ANIME_RATE VALUES(13, 'mommy', 2.5);
INSERT INTO ANIME_RATE VALUES(14, 'mommy', 3.5);
INSERT INTO ANIME_RATE VALUES(14, 'admin', 3.5);
INSERT INTO ANIME_RATE VALUES(14, 'mama1', 4.0);
INSERT INTO ANIME_RATE VALUES(15, 'mama1', 3.5);
INSERT INTO ANIME_RATE VALUES(15, 'mama2', 3.5);
INSERT INTO ANIME_RATE VALUES(15, 'admin', 1.5);

COMMIT;


